function route (ğœŒsendProcedure) {
    âˆ€ Å¡.routingMap ğœconnection {
        synonym â²deferred message stackâ³ [] {
            #tag ğœconnection.direction {
                â–«across â–«up {
                    synonym â²output messageâ³ ğœconnection.sender.outputs {
                        â²deferred message stackâ³/push (â¨target messageâ¬ [{connection.receiver message}])
                    }
		}
                â–«down â–«passThrough {}
            }
         }
    }
    âˆ€ â²deferred message stackâ³ ğœpair {
        ğœpair.target/handle (ğœpair.message ğœŒsendProcedure)
    }
}

